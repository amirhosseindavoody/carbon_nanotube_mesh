# Carbon nanotube mesh

This repo contains code that is used in creating large mesh of carbon nanotube fibers. The mesh generation is envisioned to be completed in multiple steps

1. [BulletPhysics](https://github.com/bulletphysics/bullet3) library is used to mechanically simulate CNT fibers that fall on top of each other. Each CNT fiber is considered as an array of solid cylinders that are connected to each other. The cylinders are connected to each other back to back via cone constraints. The cone constraints enforce the solid cylinders to maintain a minimum angle between their axes and as a result the CNT fiber would have an effective minimum curvature radius (see figure below). In the mechanical simulation, a small number of CNT fibers (comprised of a number of solid cylinders depending on the length of CNT fiber) are created on a fixed height and fall to the ground. This process is repeated over and over again and gradually the number of CNT fibers in the simulation grow and a virtual container is filled with randomly oriented CNT fibers. The length of the CNT fibers can be chosen randomly between two limits (e.g. 400 nm and 1000 nm). Additionally the length of the solid cylinders and the initial orientation of the CNT fibers can be chosen randomly.<br>
![schematic](./figures/CNT_mesh_schematics.jpg)

2. Ideally, we would want to do this simulation with a very small cylinder height so that we would have a smooth curve for the CNT fiber coordinates. But due to the computational burden of the mechanical simulation with two many moving parts, we have to choose a large cylinder height such as 100 nm, and use interpolation to create the coordinates of the CNT fibers with higher definition. We call this new interpolated coordinates *fine mesh* of CNT fibers. In order to do the interpolation, we use the coordinates of mid-point of each cylinder and its axis orientation and use a spline function to create a smooth curve for each CNT fiber. <br> ![Fine CNT fiber mesh](./figures/fine_CNT_fiber_mesh.png)

3. Coordinates of individual CNTs inside each fiber are calculated by shifting the coordinates of the center axis of the fiber in a direction perpendicular to the axis. Therefore, in the plane perpendicular to the axis of the fiber, the CNTs form a hexagonal lattice.